<!DOCTYPE html>
<html>
<head>
    <title>Spring Boot OIDC SSO Demo</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .btn { display: inline-block; padding: 10px 20px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; margin: 5px; }
        .btn:hover { background: #0056b3; }
        .warning { background: #fff3cd; border: 1px solid #ffc107; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .code { background: #f4f4f4; padding: 15px; border-radius: 5px; font-family: monospace; margin: 10px 0; overflow-x: auto; }
        h1 { color: #333; }
        h2, h3 { color: #555; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Spring Boot OIDC SSO Demo</h1>
        <p>This application demonstrates Single Sign-On using <strong>OpenID Connect (OIDC)</strong> protocol with <strong>Auth0</strong>.</p>

        <h2>‚ú® Features:</h2>
        <ul>
            <li><strong>OAuth2/OIDC Authentication</strong> - Complete SSO implementation</li>
            <li><strong>ID Token Support</strong> - OIDC ID tokens for user identity</li>
            <li><strong>Refresh Token Support</strong> - Automatic token refresh capability</li>
            <li><strong>User Profile Access</strong> - Access to user claims and profile information</li>
        </ul>

        <div class="warning">
            <strong>‚ö†Ô∏è Configuration Required</strong><br>
            To use this application, you need to configure Auth0 credentials first. See setup instructions below.
        </div>

        <div style="margin-top: 30px;">
            <a href="/login" class="btn">üîë Login with Auth0</a>
            <a href="/profile" class="btn">üë§ View Profile</a>
            <a href="/tokens" class="btn">üé´ View Tokens</a>
        </div>

        <div style="margin-top: 40px;">
            <h3>üìã Quick Setup Instructions:</h3>

            <h4>1. Create Auth0 Application</h4>
            <ul>
                <li>Sign up at <a href="https://auth0.com" target="_blank">auth0.com</a></li>
                <li>Go to <strong>Applications ‚Üí Create Application</strong></li>
                <li>Choose <strong>"Regular Web Applications"</strong></li>
            </ul>

            <h4>2. Configure Callback URLs in Auth0</h4>
            <div class="code">
Allowed Callback URLs: http://localhost:8080/login/oauth2/code/auth0<br>
Allowed Logout URLs: http://localhost:8080/<br>
Allowed Web Origins: http://localhost:8080
            </div>

            <h4>3. Set Environment Variables</h4>
            <p>Export these environment variables before running the application:</p>
            <div class="code">
export AUTH0_CLIENT_ID=your-client-id<br>
export AUTH0_CLIENT_SECRET=your-client-secret<br>
export AUTH0_ISSUER_URI=https://your-domain.auth0.com/
            </div>

            <h4>4. Run the Application</h4>
            <div class="code">
./mvnw spring-boot:run
            </div>

            <p><strong>Note:</strong> Make sure to enable <strong>offline_access</strong> scope in Auth0 to get refresh tokens!</p>
        </div>
    </div>
</body>
</html>
